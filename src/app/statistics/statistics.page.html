<ion-content [fullscreen]="true">
  <app-calendarselector #calendarselector></app-calendarselector>
  <div
    style="display: flex; padding: 25px; height: 100%; flex-grow: 1; flex-direction: column; background-color: var(--color-background);">
    <div style="display:flex; align-items: center;">
      <div (click)="goBack()"
        style="background-color: var(--color-contenedor-2); height: 60px; width: 60px; border-radius: 30px; padding: 17px;">
        <img src="assets/images/back.png">
      </div>
    </div>

    <label
      style="font-size: 25px; font-weight: 600; text-align: center; position: absolute; align-self: center; margin-top: 15px;">Estadísticas</label>

    <app-switch-data 
      [textLeft]="'Gastado'" 
      [textRight]="'Ingresado'" 
      (toggle)="onSwitchToggle($event)">
    </app-switch-data>
    

    <div class="selectStartEndDate">
      <div>
        <div (click)="abrirPopup()"
          style="margin-top:3px; width: fit-content; padding: 4px; display: flex; align-items: center; border-radius: 15px;">
          <img style="width: 15px; height: 15px; rotate: 270deg;" src="assets/images/back.png">
          <label style=" font-size: 14px; color: var;"></label>
          <img style="width: 35px; height: 35px;" src="assets/images/calendar.png">
        </div>
      </div>

      <label style="font-size: 22px; font-weight: 600; text-align: left;  flex-grow: 1; height: 100%; align-items: center; vertical-align: middle; display: flex">Últimos 3
        meses</label>
    </div>

    <div style="width: 100%; height: fit-content; display: flex; flex-direction: row; margin-top: 5px; margin-bottom: 5px; ">
      <app-switch-chart-style [checked]="false" [onColor]="'#ff5722'" [offColor]="'#aaa'" [size]="'70px'" (toggle)="onChartChangeSwitch($event)"> </app-switch-chart-style>
    </div>

    <div class="statsContainer">

      @if (statsStyle == false)
      {
        <app-bar-chart style="height: 100%; width: 100%;"></app-bar-chart>
      }

      @if (statsStyle == true)
      {
        <app-donut-chart style="height: 100%; width: 100%;"></app-donut-chart>
      }
      

    </div>

    <div class="categoryColors">
      <div class="categoryColor" style="justify-content: left;">
        <label >Comida</label>
        <div style="background-color: var(--color-comida); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" >
        <label>Transporte</label>
        <div style="background-color: var(--color-transporte); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: right;">
        <label>Hogar</label>
        <div style="background-color: var(--color-hogar); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: left;">
        <label>Ocio</label>
        <div style="background-color: var(--color-comida); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor">
        <label>Personal</label>
        <div style="background-color: var(--color-personal); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: right;">
        <label>Salud</label>
        <div style="background-color: var(--color-salud); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: left;">
        <label>Trabajo</label>
        <div style="background-color: var(--color-trabajo); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor">
        <label>Viajes</label>
        <div style="background-color: var(--color-viajes); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: right;">
        <label>Familia</label>
        <div style="background-color: var(--color-familia); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: left;">
        <label>Mercado</label>
        <div style="background-color: var(--color-mercado); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor">
        <label>Educación</label>
        <div style="background-color: var(--color-educacion); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

      <div class="categoryColor" style="justify-content: right;">
        <label>Otros</label>
        <div style="background-color: var(--color-otros); height: 10px; width: 10px; border-radius: 5px;"></div>
      </div>

    </div>

  </div>
</ion-content>